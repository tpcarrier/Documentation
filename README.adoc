:toc: left
:imagesdir: assets

== Cellular IoT

== Quickstart

=== Ordering SIMs

=== Activating SIMs

=== Getting the first device online

Any device equipped with a SIM card requires an APN (Access Point Name) configuration to establish a data session. Some devices and networks auto-detect the APN but for most cases you need to configure it. 

APN: `em` (or alternatively use `emnify`)

Further some Android / iOS based devices and cellular modules also need to be configured to allow for roaming. 

Select below your device type and model to see how to configure the APN.  

|===
|<<Cellular modules>> |<<GPS tracker>> | <<Industrial Routers>>  
|<<Android>> | <<iOS devices>> | 
|===


==== Cellular modules

|===
|<<Quectel cellular IoT modules, Quectel>> |<<u-Blox cellular IoT modules,u-Blox>> | <<General cellular IoT modules, Fibocom>>  
|<<General cellular IoT modules, Telit>>  | <<General cellular IoT modules, Sierra Wireless>> | <<General cellular IoT modules, Cinterion/Gemalto/Thales>> 
|<<General cellular IoT modules, SIMcom>>  | <<General cellular IoT modules, Sequans>> |
|===

===== Quectel cellular IoT modules 

_Applies to all Quectel modules: BG95, BG96, EG25, EG91, EG95, EC21, EC25, M65, M66, M95, MC60, BG77, BG600L_

 
With Quectel modules the APN can be set with the 3GPP standard command AT+CGDCONT  

`AT+CGDCONT=1,"IP","em",,`
 
Quectel also utilizes a vendor specific Command AT+QICSGP 

`AT+QICSGP=1,1,"em","","",1`

 
According to link:https://www.quectel.com/faqs/12-8-what-is-the-difference-between-cgdcont-and-qicsgp/[Quectel] the command AT+QICSGP shall be used when the internal TCP/UDP stack should be used – and it also allows to configure which bearer (CSD or GPRS) is used. GPRS must be used.  
 
For managing roaming Quectel also introduced the AT+QCFG command. The suggested setting is: 
 
`AT+QCFG="roamservice",2,1`

NOTE: Check your Quectel module AT command guide for more information.
Further you can also read about AT commands in our <<AT command guide>>. 

===== u-Blox cellular IoT modules


u-Blox supports the standard 3GPP command to set APNs via AT+CGDCONT 

`AT+CGDCONT=1,"IP","em",,` 
 
u-Blox also supports a vendor specific command to configure the APN for the initial EPS bearer. 

`AT+UCGDFLT=1,"IP","em"`

For roaming configuration u-blox modules utilize a vendor specific AT+UDCONF command. This enables automatic search in case the device cannot attach to a specific network.  

`AT+UDCONF=20,2`


NOTE: Check your u-Blox module AT command guide for more information.
Further you can also read about AT commands in our <<AT command guide>>. 


===== General cellular IoT modules

_Applies to a cellular module vendors: Fibocom, Telit, Sierra Wireless, SIMcom, Cinterion, Gemalto, Thales, Sequans_

The commands for configuring the APN settings are 3GPP standardized and all major cellular module manufacturer support the commands.   
 
The AT+CGDCONT command needs to be utilized to set the APN.  

`AT+CGDCONT=1,"IP","em",,`

NOTE: Check your AT command guide for further information or read 
link:https://portal.3gpp.org/desktopmodules/Specifications/SpecificationDetails.aspx?specificationId=1515[3GPP Technical Specification 27.007]. Further you can also read about AT commands in our <<AT command guide>>. 

==== GPS tracker

|===
|<<Teltonika GPS APN configuration, Teltonika>> |<<Ruptela GPS APN configuration,Ruptela>> | <<Concox GPS APN configuration, Concox>>  
|<<Coban GPS APN configuration, Coban>>  | <<Meitrack GPS APN configuration, Meitrack>> | <<Elinz GPS APN configuration, Elinz>> 
|<<Reachfar GPS APN configuratio, Reachfar>>  | <<Queclink GPS APN configuration, Queclink >> | <<Bitrek GPS APN configuration, Bitrek>>
|===

TIP: For other GPS vendors please consult the manual and configure the APN to be `em` or `emnify`.

===== Teltonika GPS APN configuration

link:https://wiki.teltonika-gps.com/view/Universal_Device_Test_Guide_V3.2[Source Teltonika GPS documentation]

_Applies to FMB110, FMB120, FM130, FMB140, FMC001, FMM001, FMC125, FMC130, FMC640, FMM125, FMM130, FMM640, FMP100, FMB001, FMB002, FMB003, FMB010_

Configuring the APN for Teltonika GPS trackers can be done through

. Teltonika Configurator over a USB, Bluetooth connection 
. Via the SMS console through the EMnify Portal (most simple) 
. via the EMnify SMS API or Zapier Integration (when automating the configuration) 

NOTE: Newer Teltonika GPS versions automatically detect the EMnify APN setting

When the GPS tracker is turned on for the first time after the SIM is installed it is showing the status `Attached` in the EMnify portal. At this point the device can receive SMS but not establish a data session unless the APN is setup or detected. 

The SMS command to set the APN is:
----
  setparam 2001:em 
----
(please note the two leading spaces) 

===== Ruptela GPS APN configuration

_Applies to HCV5, LCV5, Pro5, Trace5/NA, FM-Tco4 HCV/HCV 3G, FM-Tco4 LCV/LCV 3G, FM-Pro4/Pro4 3G, FM-Eco4/4+, FM-Eco4 light/light+/3G, FM-Eco4 S Series, FM-Eco4 T Series, FM-Plug4_ 

link:https://doc.ruptela.lt/display/AB/Tracking+devices[Source Ruptela Documentation] 

Configuring the APN for Ruptela GPS trackers can be done through

. Ruptela Device Center over a USB, Bluetooth connection 
. Via the SMS console through the EMnify Portal (most simple) 
. via the EMnify SMS API or Zapier Integration (when automating the configuration) 

When the GPS tracker is turned on for the first time after the SIM is installed it is showing the status `Attached` in the EMnify portal. At this point the device can receive SMS but not establish a data session unless the APN is setup or detected. 

The SMS command to set the APN for Ruptela GPS trackers is:
----
[SMSpassword] setconnection em
----
The [SMSpassword] can be setup in the Ruptela device center. IF it is not set then the SMSpassword can be omitted and the command is only

----
setconnection em
----

===== Concox GPS APN configuration
_Applies to JM-VL01, JM-VL02, JM-BL11, JM-VL03, JM-VL04, JM-LL01, JM-LL02, JM-LL301, X3,Wetrack140, Wetrack2, Wetrack lite, Bl10, GT06N, OB22, ET25, HVT001, EG02, JM-VG01U, JM-VG02U, JM-VG04Q, AT1-AT6, CT10, JM-LG01, JM-LG05, TBT100_ 


Configuring the APN for Concox GPS trackers can be done 

. Via the SMS console through the EMnify Portal (most simple) 
. via the EMnify SMS API or Zapier Integration (when automating the configuration) 

When the GPS tracker is turned on for the first time after the SIM is installed it is showing the status `Attached` in the EMnify portal. At this point the device can receive SMS but not establish a data session unless the APN is setup.

The SMS command to set the APN for Concox GPS trackers is:
----
APN em#
----

For some Concox models (e.g. TR02) the password (default 666666) needs to be send with the command
----
APN,666666,em#
----


===== Coban GPS APN configuration

_Applies to Coban TK104, GPS303X, GPS103X, GPS306X, LK209, ..._

Configuring the APN for Coban GPS trackers can be done 

. Via the SMS console through the EMnify Portal (most simple) 
. via the EMnify SMS API or Zapier Integration (when automating the configuration) 

When the GPS tracker is turned on for the first time after the SIM is installed it is showing the status `Attached` in the EMnify portal. At this point the device can receive SMS but not establish a data session unless the APN is setup and the GPRS service is activated.

To turn on GPSR 
----
gprs[your_password] 
----

The SMS command to set the APN for Coban GPS trackers is:
----
APN[your_password] em 
----

The default password is 123456. There are no spaces between gprs/APN and the password. 

===== Meitrack GPS APN configuration
_Applies to P88L, P99, MT90, T663L, T333, T366, T399, TS299L, TC68L, TC68SG, T622, K211G, T355G_
Configuring the APN for Meitrack GPS trackers can be done 

. via the Meitrack manager when 
. Via the SMS console through the EMnify Portal (most simple) 
. via the EMnify SMS API or Zapier Integration (when automating the configuration) 

When the GPS tracker is turned on for the first time after the SIM is installed it is showing the status `Attached` in the EMnify portal. At this point the device can receive SMS but not establish a data session unless the APN is setup. 

The SMS command to set the APN for Meitrack GPS trackers is:
----
0000,A81,em,,
----
Where 0000 is the default SMS password. 

On other devices the APN setting is done via the A21 command

----
666888,A21,1,server.meigps.com,8800,em,,
----
Where 666888 is the default superpassword (not the SMS password).

Both SMS and Superpassword can be changed and would then need to be replaced in the SMS command. 

===== Elinz GPS APN configuration

Configuring the APN for Elinz GPS trackers can be done 

. Via the SMS console through the EMnify Portal (most simple) 
. via the EMnify SMS API or Zapier Integration (when automating the configuration) 

When the GPS tracker is turned on for the first time after the SIM is installed it is showing the status `Attached` in the EMnify portal. At this point the device can receive SMS but not establish a data session unless the APN is setup. 

The SMS command to set the APN for Elinz GPS trackers is:

----
APN,em#
----

On other models the APN configuration is a little different

----
apn[password] em
----

Default password 123456. 


===== Reachfar GPS APN configuration

Configuring the APN for Reachfar GPS trackers can be done 

When the GPS tracker is turned on for the first time after the SIM is installed it is showing the status `Attached` in the EMnify portal. At this point the device can receive SMS but not establish a data session unless the APN is setup. 

_Applies to RF-V6+, RF-V8, RF-V8S, RF-V13, RF-V16, RF-V18, RF-V20_

The following two SMS commands need to send
----
123456,sos1,[yourphonenumber]# // Bind the tracker to a specific phone number e.g. 49173871878 (instead of +49173871878). 123456 is the default SMS password. 
apn,em,plmn,90143#  // Send this SMS from the phone
----

123456 is the default password. After setting the APN the GPS tracker needs to be rebooted. 

_Applies to RF-V26, RF-V26+, RF-V28, RF-V30, RF-V32, RF-V34, RF-V36, RF-V36, RF-V38, RF-V40, RF-V42, RF-V43，RF-V44, RF-V46_

The following two SMS commands need to send
----
pw,123456,center,[yourphonenumber]# // Bind tracker to specific phone. 123456 is the default password. 
apn,em# // Send this SMS from the phone
----

===== Queclink GPS APN configuration

Configuring the APN for Queclink GPS trackers can be done 

. Via the SMS console through the EMnify Portal (most simple) 
. via the EMnify SMS API or Zapier Integration (when automating the configuration) 

When the GPS tracker is turned on for the first time after the SIM is installed it is showing the status `Attached` in the EMnify portal. At this point the device can receive SMS but not establish a data session unless the APN is setup. 

The SMS command to set the APN for Queclink GPS trackers is:

----
AT+GTBSI=[password],em,,,,,,,0002$ // The password default is device model,e.g. gl200
----


===== Bitrek GPS APN configuration


Configuring the APN for Bitrek GPS trackers can be done 

. Via the SMS console through the EMnify Portal (most simple) 
. via the EMnify SMS API or Zapier Integration (when automating the configuration) 

When the GPS tracker is turned on for the first time after the SIM is installed it is showing the status `Attached` in the EMnify portal. At this point the device can receive SMS but not establish a data session unless the APN is setup. 


The SMS command to set the APN for Bitrek GPS trackers is:

----
setparam 0242 em
----

The Bitrek GPS tracker also utilize a roaming command (setparam 0917) together with a list of enabled networks (setparam 0020-0099). The following SMS commands need to be send

----
setparam 0917 1 // enable romaing in all networks as defined in the next SMS
setparam 0020 <MNC> // MNC is the mobile network code on which the device shall roam
setparam 0021 <MNC>
....
setparam 0099 <MNC>
----

All commands can be concatenated into one SMS (max. 160 characters) by using the ; as a delimiter.

----
setparam 0242 em; setparam 0917 1; setparam 0020 <MNC>; .....
----




==== Industrial Routers

_Applies to RUT240, RUT950, RUT955, RUTX09, RUTX11, RUTX12, RUTX14, RUTXR1, RUT360_ 

Newer firmware version of the Teltonika Routers should automatically detect the EMnify APN. Nevertheless, in case the APN is not correctly detected it can be configured with 3 methods 

. With the Teltonika WebUI over Wifi, Ethernet 
. Via the SMS console through the EMnify Portal (most simple) 
. via the EMnify SMS API or Zapier Integration (when automating the configuration)   
 

1. APN configuration through the Teltonika Router WebUI 
 
Connect your PC through the routers Wi-Fi using the credentials provided on the device.  
Open the Teltonika WebUI http://192.168.1.1 and go to the Mobile configuration. Type in “em” in APN – there is no PIN configured on the SIM and no APN username or password required.  
 

2. Teltonika Networks Router APN configuration via SMS console / API or Zapier
 
link:https://wiki.teltonika-networks.com/view/SMS_Commands[Teltonika Documentation Source]

Make sure that the Router is powered on and the SIM card is inserted and activated. In the EMnify portal the device should show as `Attached`. 
 
The following SMS command need to be send to the device
---- 
cellular apn=em
----

==== Android

When setting up an Android device with an EMnify SIM you need to follow these 5 steps

. Go to Settings -> Mobile Network
. Go to Mobile data
. Enable roaming and go to Access Point Names (APN)
. Create a new APN with any name and configure the APN with "em"

[.float-group]
--
image::Android_01_Settings.jpg[width=250, float="left"]
image::Android_02_Mobile_Network.jpg[width=250, float="left"]
image::Android_03_Mobile_Data.jpg[width=250, float="left"]
image::Android_04_Create_Access_Point_name.jpg[width=250, float="left"]
image::Android_05_Configure_APN.jpg[width=250, float="left"]
--

==== iOS devices

When setting up an iOS device with an EMnify IoT SIM you need to follow 4 steps

. Go to Settings -> Mobile Data
. Click on the EMnify Data Plan (first one if regular SIM or secondary in case of eSIM) 
. Enable Roaming and Click on Mobile Data Network
. Set APN to em - leave anything else blank

[.float-group]
--
image::iOS_01_Settings.png[width=250, float="left"]
image::iOS_02_Mobile_Data.png[width=250, float="left"]
image::iOS_03_Mobile_Network.png[width=250, float="left"]
image::iOS_04_APN.png[width=250, float="left"]
--

=== Trouble Shooting

== Service Stack Overview

=== IoT SIM

==== Form factors

==== Developer eSIM

==== Multi IMSI

=== Global IoT Network Fabric

==== RAN Aggregation

==== Distributed Data Transport

===== Regional Breakout

===== VPN Connectivity

==== SMS

// ==== USSD

==== Voice

==== RAN Aggregation

==== Radio Access Types

The EMnify IoT SIM and platform supports all devices and modules using the following radio access technologies 

* <<2G (GSM/GPRS/Edge)>> - in more than 370 networks
* <<3G (UMTS/WCDMA/HPSA/HSDPA)>> - in more than 390 networks
* <<4G (LTE/LTE-A/LTE-CATXX)>> - in more than 310 networks
* <<5G (NR)>> - in 5+ networks
* <<LPWAN: LTE-M/NB-IoT, LTE-M (CAT-M1)>> - in more than 60 networks
* <<LPWAN: LTE-M/NB-IoT, NB-IoT (CAT-NB1, CAT-NB2)>> - in 12+ networks

When a device wants to connect with any of these radio technologies than the network needs to suport this technology as well as the device needs to support the frequency band which this network utilizes for this technology.  


====== 2G (GSM/GPRS/Edge)

GSM/GPRS is still one of the most dominant IoT technologies. Although the throughput is limited (GPRS max. 120kbps, Edge max. 1Mbps) it is more than sufficient for many IoT use cases. The modules are cheap ( <10$ ) and the coverage is widely available throughout the world in more than 200 countries. EMnify provides GSM/GPRS coverage in more than 370 GSM networks.

GSM/GPRS is easy to deploy for IoT use cases because there only 4 frequency bands utilized by operators for GSM/GPRS worldwide. 

In Americas

* B2 (1900MHz) 
* B5 (850MHz) 

In the rest of world 

* B3 (1800MHz) 
* B8 (900MHz)

Therefore, module manufacturers offer dual-band modules that can be used either in Americas or Rest of World - or Quadband modules that can be deployed globally. 

Nevertheless GSM/GPRS is being phased out in several countries to free up frequency band for newer technologies. link:https://www.emnify.com/en/resources/global-2g-phase-out[More than 60 networks have discontinued or announced to discontinue GSM technology]. 

====== 3G (UMTS/WCDMA/HPSA/HSDPA)

3G technologies like UMTS, WCDMA, HSDPA, HSUPA have been driven by the surge for more data speed. As an evolution of GSM, many parts of the GSM/GPRS core network and signaling are reused, where the most difference is in the radio part.

With more than 170 countries worldwide 3G/UMTS is still widely available. EMnify provides 3G/UMTS coverage in more than 390 networks. 

3G modules are easy to deploy - similar to 2G - as there are only 5 different frequency bands utilized by operators worlwide (with exception of Japan and China). Most UMTS modules therefore can be deployed worldwide.

* B1 (2100Mhz) - main UMTS band in the world
* B2 (1900Mhz) - used in Americas
* B4 (1700Mhz) - used in Americas
* B5 (850Mhz) - Australia / Americas
* B8 (900Mhz) - Europe 

For Europe a 900/2100 Mhz dual-band module is required.
For Americas a 850/1900 Mhz dual-band module is required. 

3G/UMTS is also being phased out by several network operators to make space for newer technologies - also check here the article on link:https://www.emnify.com/en/resources/global-2g-phase-out[GMS and UMTS networks that are being discontinued]


====== 4G (LTE/LTE-A/LTE-CATXX)

LTE is a 4G technology (another one would be Wimaxx - which never succeeded). With the evolution of LTE there have been different LTE categories established such as CAT-1, CAT-3, CAT-4, CAT-6, CAT-9, CAT-12 - mainly with increasing data throughput per category. 
While for consumer phones and broadband use cases the increase of throughput is relevant - the increasing costs for the modules have demanded for a lightweight LTE module for IoT use cases - which first led to CAT-1. 

LTE CAT-1 offers 10Mbps in downlink and 5Mbps in uplink - and is available with network operators wherever LTE is deployed. Because of its wide availability and the possibility to roam between operators without limitation LTE CAT-1 is widely used in IoT use cases.

Currently EMnify offers connectivity over LTE in more than 310 networks worldwide. 

The deployment of LTE devices in a global scale is more challenging than with GSM and UMTS because network operators worldwide have been using more than 27 different frequency bands. Most modules therefore only support specific regions where the device can be deployed.

Some main LTE-bands are

* B3 (1800 MHz) - Europe, Africa, APAC
* B7 (2600 MHz) - used in Americas, Europe, APAC
* B20 (800 MHz) - used in Europe, Asia
* B1 (2100 MHz) - Europe, Asia 
* B2 (1900 NHz) - Americas
* B4 (1700 Mhz) - Americas
* B5 (850 Mhz) - North America, APAC

TIP: Validate the frequency bands utilized by the operators in your deployment countries before deciding for a module. You can look up the utilized frequency bands link:https://www.frequencycheck.com/interfaces/lte[here] 


====== LPWAN: LTE-M/NB-IoT

While utilizing LTE infrastructure both NB-IoT and LTE-M are also part of the 5G standardization. Both technologies have been specified to meet the demand for IoT use cases in terms of: 

* Reduced cost - to enable mass production of cellular IoT devices
** removing unnecessary LTE features for IoT such as dual carrier, high modulations  
* Low power utilization - for battery powered use cases that require years of operation 
** introducing power saving features such as <<PSM>> and <<eDRX>>
** reducing the max. transmission power to less than 200mA to cater for battery max. current (GSM for example has 2A max power)
* Wider coverage - (+14dB for LTE-M and +20 for Nb-IoT sensitivity) for rural/indoor/underground use cases
** utilizing extended coverage feature with more retransmissions to ensure data gets delivered
* Smaller module size - to enable smaller device use cases

Because LTE-M and NB-IoT rely on LTE infrastructure they also utilize a multitude of different frequency bands - a total of 26 bands have been specified for their use. 
To deploy NB-IoT and LTE-M in multiple countries and regions the modules need to support the operator frequency bands. 

Cellular LPWAN modules come in different versions

* NB-IoT only or LTE-M only
* LTE-M/NB-IoT combined
* LTE-M/NB-IoT with 2G fallback and optional additional technologies (3G,4G)

As of today, roaming for NB-IoT is very limited between operators because of new charging models being implemented for NB-IoT. For LTE-M roaming usually works over regular LTE roaming - nevertheless some operators have limited the access to their LTE-M networks and the available features (PSM, eDRX).  

Check the EMnify LTE-M coverage, availability of PSM/eDRX and proposed frequency bands link:https://www.emnify.com/lte-m-coverage?hsLang=en[on our Website]. 


[.lead]
[#PSM]
Power-Save-Mode (PSM)

Jump to:

* <<PSM_CELL,Why cellular communication is not ideal for IoT>>
* <<PSM_WHAT,How does Power Save Mode work>>
* <<PSM_ROAMING, Roaming for Power Save mode>>
* <<PSM_AT_COMMANDS,AT Command calculation and examples for PSM settings>>
* 

[#PSM_CELL]
Cellular communication for smartphones usually requires low latency on downlink - in case you are being called your phone should ring right away. Because of this there are two things the device does which require power:

. continously listening to the radio if there is an incoming call
. transmitting location information to the network where it should be called - whenever it moves out of a tracking area and periodicly every 54 minutes 

[#PSM_WHAT]
For most IoT use cases a downlink-initiated channel is not required - it is usually the device that intiates the communication to send e.g. sensor data. Therefore, a Power Save Mode is introduced that allows the device to go to sleep in case it has nothing to send.

The Power Save mode has these characteristics

* the Power Save Mode is similar to a power off period during which the module only consumes a couple of &#x03BC;A
* the device tells the network for how long it is going periodically into PSM (timer T3412 extended)
* the device/module will not be reachable during PSM from the outside in downlink
* the device can wake up the module and send data (e.g. powerkey, interrupt or pin triggered)
* when the device wakes up it does not need to reattach and reestablishing a PDN connection (unless it has moved to a different tracking area)
* after the device wakes up it stays in idle mode for a configurable time (timer T3324) to listen for downlink messages (e.g. firmware updates)
* the actual time the device is then in Power Save Mode is T3412 extended - T3324

image:PSM.png[#PSM_Image].PSM and the 3412 and T3324 timers

NOTE: some modules (e.g. u-blox SARA-R4/SARA-N4) do not go into sleep mode when having a SIM enabled PIN. On EMnify SIMs the PIN is disabled. 



[#PSM_ROAMING]
Be aware that not all Nb-IoT and LTE-M networks have implemented PSM - and even when PSM is available with the local operator this does not mean that a roaming SIM can use it. This makes it very difficult for devices that are moving - in case they use PSM, and the new network does not support PSM - or only other timer configurations. We therefore regularly test the link:https://www.emnify.com/lte-m-coverage?hsLang=en[availability of PSM in our EMnify LTE-M roaming footprint.]

[#PSM_AT_COMMANDS]
The 3GPP defined AT command to configure PSM is `AT+CPSMS`m which sets the T3412 extended and T3324 timers. 

An example command is

`AT+CPSMS=1,,,01001110,00000101`

PSM will be enabled (`1`) and the desired value for T3412 extended is 140 hours (`01001110`) and the desired value for the T3324 timer is 10s (`01001110`). The network does not necessarily use the desired values but utilizes supported values that are close to the desired values. To read the effective PSM configuration use the command

`AT+CPSMS?`

There is a good calculator fon how to set the values for 3412 and T3324 available link:https://www.thalesgroup.com/en/markets/digital-identity-and-security/iot/resources/developers/psm-calculation-tool[from Thales, window=read-later]. 

Module vendors have also implemented module specific commands, e.g. Quectel

** `AT+QPSMS` extends PSM settings 
** `AT+QCFG=”psm/enter”,1` used to put the module immediately into PSM when the RRC connection is released (not waiting for T3324 to expire)
** `AT+QPSMEXTCFG` modem optimization command with different attributes such as making sure that PSM is randomized between different devices so they do not send data at the same time 

[.lead]
[#eDRX]
extended Discontinuous Reception (eDRX)

* <<eDRX_WHAT,How does eDRX work>>
* <<eDRX_ROAMING, Roaming with eDRX>>
* <<eDRX_AT_COMMANDS,AT Command examples for eDRX settings>>

[#eDRX_WHAT]
Whereas PSM is focused on uplink centric use cases, eDRX tries to reduce the power consumption for IoT Use cases that get downlink information. Regular smartphones are not continously listening on the radio for an incoming message but only every 1.28s or 2.56s which is called DRX (discontinous Reception). eDRX allows configuration of custom intervals of up to 40-175mins - depending on which configuration the visited network allows. 

image:eDRX.png[id=PSM].PSM and the 3412 and T3324 timers

[#eDRX_ROAMING]
As with PSM - not all NB-IoT and LTE-M networks support eDRX or the same timer configuration - and even if they do this does not guarantee that a roaming SIM card can utilize eDRX. We therefore also test and link:https://www.emnify.com/lte-m-coverage?hsLang=en[publish the eDRX availability on our LTE-M roaming footprint, window=read-later].  

[#eDRX_AT_COMMANDS]

The standard 3GPP defined AT-command to configure eDRX is `AT+CEDRXS`.

As an example the below command enables (`1`) eDRX for LTE-M (`4`) and an eDRX cycle of 143.36s (`1000`).

`AT+CEDRXS=1,4,"1000"`

The setting for NB-IoT would be `5` and the timer values are shown in below table

|===
| 0 0 0 0 | 5.12 seconds  
| 0 0 1 0  | 10.24 seconds
| 0 0 1 1  | 40.96 seconds
| 0 1 0 0  | 5.12 seconds  
| 0 0 1 0  | 61.44 seconds
| 0 1 0 1  | 81.92 seconds
| 0 1 1 0  | 102.4 seconds
| 0 1 1 1  | 122.88 seconds
| 1 0 0 0  | 143.36 seconds
| 1 0 0 1  | 163.84 seconds
| 1 0 1 0 | 327.68 seconds
| 1 0 1 1 | 655,36 seconds
| 1 1 0 0 | 1310.72 seconds
| 1 1 0 1 | 2621.44 seconds
| 1 1 1 0 | 5242.88 seconds
| 1 1 1 1 | 10485.76 seconds
|===

The network will respond with the actual effective interval. 

`+CEDRXS: [4,"1000","1000","0111"]` 

====== 5G (NR)

5G is the next major technology standard after LTE - which targets 3 different applications areas:

. enhanced Mobile Broadband (eMBB)
** with faster throughput upt 1Gps+ and more capacity in a local area
** utilizing mmWave bands (5Ghz+) for increased throughput
. Massive Machine Type communication (mMTC)
** targeted at IoT application where a multitude of devices are in the same location and need to communicate with low power
** LTE-M and NB-IoT often seen as decoupled from 5G to get earlier results will fusion with 5G mMTC
. Ultra Reliable Low Latency Communications (URLLC)
** for missing critical applications that require low latency and reliable data transmission 

As of today 5G is mainly adopted for eMBB use cases - using a 5G non-standalone (NSA) deployment - meaning that the air interface uses 5G technology whereas the core network is still 4G. 

EMnify has announced its first 5G roaming agreements in August 2020 and since then has reached agreements with more than a dozen network operators worldwide.

==== API & UI

==== Integrations

== Services

=== SIM Life Cycle Management

=== Endpoint Management & Policies

=== Regional Breakout

// Location based services

=== Multi Cloud Data Streamer

==== Events

==== Usage Data

=== Cloud Connect

==== Transit Gateway

==== IPSec

==== OpenVPN

=== Security

==== DNS

==== IMEI Lock

=== Identity and Access Management

=== Business Intelligence and Analytics

=== No-Code Workflow Automation

== Connectivity as Code

=== API Authentication

=== Working with SIMs and Endpoints

=== SIM State Management

=== Endpoint Connectivity Status

=== Sending and receiving SMS

=== Retrieving Events and Statistics

=== API Reference

=== Code Samples

==== Java SDK

==== Javascript

==== Python

== Integration Guides

// link integrations on website

== Blue Prints

=== Automating SIM Life Cycle Management

=== How to integrate data into operational dashboards

=== How to build a prepaid service

=== Integrating Connectivity Status in a Portal

// add matching content from blog
